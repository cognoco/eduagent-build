pnpm exec lint-staged

# OS-conditional test execution
if [[ "$OSTYPE" == "msys"* || "$OSTYPE" == "mingw"* || "$OSTYPE" == "cygwin"* ]]; then
  # Windows: Skip web tests due to Jest hanging issue (see AGENTS.md Troubleshooting)
  echo "Windows detected: Running tests excluding web app"
  pnpm exec nx affected -t test --base=HEAD~1 --exclude=web
else
  # Linux/Mac: Run all tests
  echo "Unix-like OS detected: Running all tests"
  pnpm exec nx affected -t test --base=HEAD~1
fi
